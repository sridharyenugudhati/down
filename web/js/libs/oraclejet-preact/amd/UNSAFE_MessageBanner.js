define(['exports', 'preact/jsx-runtime', 'preact/hooks', './hooks/UNSAFE_useComponentTheme', './utils/UNSAFE_classNames', './hooks/PRIVATE_useMessagesFocusManager', './PRIVATE_Message', './UNSAFE_Flex', './UNSAFE_LiveRegion', './UNSAFE_MessageBanner/themes/redwood/MessageBannerTheme', './classNames-bd4a4c19', './Flex-cc4e4675', './MessagesManager-d1ae0a38', './MessageUtils-75fa8dae', './utils/UNSAFE_logger', './_curry1-4d9a6584', './_curry2-99f10bc7', './utils/PRIVATE_timer', './PRIVATE_Message/themes/MessageStyles.css', 'css!./MessageStyles.styles.css', './MessageCloseButton-9a221db8', './UNSAFE_IconButton', './IconButton-e8c0693d', 'preact', './UNSAFE_BaseButton', './BaseButton-ae9a6dc8', './hooks/UNSAFE_usePress', './hooks/UNSAFE_useHover', './hooks/UNSAFE_useToggle', './hooks/UNSAFE_useActive', 'preact/compat', 'module', './utils/UNSAFE_interpolations/dimensions', './utils/UNSAFE_arrayUtils', './utils/UNSAFE_size', './UNSAFE_Theme', './utils-b994552d', './Common/themes/themeContract.css', './utils/UNSAFE_mergeInterpolations', './_curry3-963d734c', './_has-77ad1af6', './utils/PRIVATE_clientHints', './clientHints-dd589985', './hooks/UNSAFE_useTabbableMode', './utils/UNSAFE_mergeProps', './UNSAFE_ButtonLayout', './ButtonLayout-eec8ddcf', './UNSAFE_Text', './Text-d9e2e519', './UNSAFE_Text/themes/TextStyles.css', 'css!./TextStyles.styles.css', './vanilla-extract-recipes-createRuntimeFn.esm-84f316bc', './hooks/UNSAFE_useTooltip', './hooks/UNSAFE_useId', './UNSAFE_Floating', './Floating-2186bfdd', './index-2e7587a5', './hooks/UNSAFE_useUser', './index-abd879ef', './Common', './Common/themes', './Common/themes/redwood/theme', './utils/PRIVATE_floatingUtils', './utils/PRIVATE_refUtils', './hooks/UNSAFE_useOutsideClick', './UNSAFE_Floating/themes/redwood/FloatingTheme', './UNSAFE_Floating/themes/FloatingStyles.css', 'css!./FloatingStyles.styles.css', './UNSAFE_Floating/themes/redwood/FloatingBaseTheme.css', 'module', './UNSAFE_Floating/themes/redwood/FloatingVariants.css', './vanilla-extract-dynamic.esm-1a9ba437', './UNSAFE_Floating/themes/FloatingContract.css', './UNSAFE_Layer', './useThemeInterpolations-35281d48', './hooks/UNSAFE_useColorScheme', './hooks/UNSAFE_useScale', './utils/UNSAFE_interpolations/theme', './hooks/UNSAFE_useFocus', './hooks/UNSAFE_useTouch', './hooks/UNSAFE_useAnimation', './useAnimation-bc5efb9f', './hooks/UNSAFE_useThemeInterpolations', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentTheme', './hooks/UNSAFE_useTooltip/themes/TooltipContentStyles.css', 'css!./TooltipContentStyles.styles.css', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentBaseTheme.css', 'module', './hooks/UNSAFE_useTooltip/themes/redwood/TooltipContentVariants.css', 'css!./TooltipContentVariants.styles2.css', './PRIVATE_ThemedIcons/CloseIcon', './UNSAFE_Icon', './Icon-3dc6de20', './UNSAFE_Icon/themes/IconStyle.css', 'css!./IconStyle.styles.css', './MessageDetail-9011f942', './MessageFormattingUtils-604638f0', './utils/UNSAFE_getLocale', './utils/UNSAFE_stringUtils', './stringUtils-62244dce', './Message.types-003fd957', './MessageStartIcon-79e8fcf1', './PRIVATE_ThemedIcons/MessageConfirmationIcon', './PRIVATE_ThemedIcons/MessageErrorIcon', './PRIVATE_ThemedIcons/MessageInfoIcon', './PRIVATE_ThemedIcons/MessageWarningIcon', './MessageSummary-1e459b81', './MessageTimestamp-1a0d1118', './utils/UNSAFE_interpolations/boxalignment', './keys-78ca48b9', './utils/UNSAFE_interpolations/flexbox', './flexbox-46d184cc', './utils/UNSAFE_interpolations/flexitem', './flexitem-70c06ae3', './utils/UNSAFE_soundUtils', './UNSAFE_MessageBanner/themes/MessageBannerStyles.css', 'css!./MessageBannerStyles.styles.css', './UNSAFE_MessageBanner/themes/redwood/MessageBannerBaseTheme.css', 'module', './UNSAFE_MessageBanner/themes/redwood/MessageBannerVariants.css', 'css!./MessageBannerVariants.styles2.css', './PRIVATE_TransitionGroup', './hooks/UNSAFE_useMessagesContext'], (function(e,s,t,o,n,a,i,l,r,c,u,d,g,h,m,F,S,_,A,E,U,N,T,f,p,M,y,x,I,k,B,R,C,b,v,w,V,P,H,j,L,z,O,W,$,D,G,K,q,J,Q,X,Y,Z,ee,se,te,oe,ne,ae,ie,le,re,ce,ue,de,ge,he,me,Fe,Se,_e,Ae,Ee,Ue,Ne,Te,fe,pe,Me,ye,xe,Ie,ke,Be,Re,Ce,be,ve,we,Ve,Pe,He,je,Le,ze,Oe,We,$e,De,Ge,Ke,qe,Je,Qe,Xe,Ye,Ze,es,ss,ts,os,ns,as,is,ls,rs,cs,us,ds,gs,hs,ms){"use strict";const Fs={entering:e=>({to:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"},options:{duration:250},end:{maxHeight:"none",overflow:"initial"}}),exiting:e=>({..."none"===e.style.maxHeight&&{from:{maxHeight:`${e.scrollHeight}px`,overflow:"hidden"}},to:{maxHeight:0,overflow:"hidden"},end:{maxHeight:0,overflow:"hidden"},options:{duration:250}})},Ss={maxHeight:0,overflow:"hidden"};e.MessageBanner=function({closeButtonRenderer:e,detailRendererKey:n,data:l,onClose:m,renderers:F,translations:S,type:_="section"}){const A=t.useRef(new Map),E=t.useRef(null),U=t.useRef(null),[N,T]=t.useState(),[f,p]=t.useState(l.length>0),M=t.useRef(l.length),y=t.useRef(0);M.current=l.length;const x=t.useCallback((e=>s=>A.current.set(e,s)),[]);t.useImperativeHandle(U,(()=>({focus:()=>{if(l.length){const e=l[0].key;return A.current.get(e)?.focus(),!0}return!1},contains:e=>!(!l.length||!e)&&(E.current?.contains(e)??!1)})),[l]);const{controller:I,handlers:k}=a.useMessageFocusManager(U,{onFocus:t.useCallback((()=>{T(S?.navigationFromMessagesRegion)}),[T,S])}),B=t.useCallback((e=>{m?.(e)}),[m]),R=t.useCallback(((e,s,t)=>{const o=t?.contains(document.activeElement);if(0===M.current)return p(!1),void(o&&I.restorePriorFocus());const n=s+1<l.length?s+1:s-1;if(n>-1&&o){const e=l[n].key;A.current.get(e)?.focus()}}),[I,l]);if(t.useEffect((()=>{l.length?(p(!0),l.length>y.current&&T(S?.navigationToMessagesRegion),I.prioritize()):T(""),y.current=l.length}),[I,l,S]),!f&&0===l.length)return null;const{classes:C}=o.useComponentTheme(c.MessageBannerRedwoodTheme);return s.jsx("div",{ref:E,class:u.classNames(["oj-c-messagebanner",C]),tabIndex:-1,...k,children:s.jsxs(d.Flex,{direction:"column",gap:"section"===_?"1x":void 0,children:[s.jsx(g.MessagesManager,{animationStates:Fs,initialAnimationStyles:Ss,data:l,onMessageWillRemove:R,children:({index:t,item:o})=>s.jsx(i.Message,{messageRef:x(o.key),item:o,closeButtonRenderer:e,detailRenderer:h.getRenderer(o,n,F),index:t,variant:"page"===_?"pageBanner":"sectionBanner",onClose:B,translations:S},o.key)}),s.jsx(r.LiveRegion,{children:N})]})})},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_MessageBanner.js.map
