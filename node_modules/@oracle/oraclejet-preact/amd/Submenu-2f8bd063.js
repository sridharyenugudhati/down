define(['exports', 'preact/jsx-runtime', 'preact/compat', './PRIVATE_ThemedIcons/DirectionalExpandArrowIcon', './hooks/UNSAFE_useId', './MenuItem-5aba4050', './Menu-40d8faca', 'preact/hooks', './PRIVATE_ThemedIcons/DirectionalCollapseArrowIcon'], (function(e,n,u,t,s,o,r,c,l){"use strict";const a=({label:e,children:c})=>{const l=s.useId(),a=s.useId(),m=u.useMemo((()=>`oj-menu-item-${a}`),[a]),{changeKey:d,currentKey:b}=o.useMenuContainerContext(),p=u.useRef(null),I=u.useRef(null),[f,x]=u.useState(!1),[h,y]=u.useState("none");u.useEffect((()=>{m!==b&&x(!1)}),[b,m]);const k=u.useCallback((e=>{p.current?.focus(),x(!0),"keyup"===e.type?y("firstItem"):y("none")}),[]),j=u.useRef({recentClose:!1,pendingUnhover:!1});return n.jsxs(n.Fragment,{children:[n.jsx(o.BaseMenuItem,{id:m,submenuId:l,ref:p,label:e,endIcon:n.jsx(t.DirectionalExpandArrowIcon,{}),type:"submenu",role:"menuitem",onAction:k,hoverInfo:{hoverProps:{onMouseEnter:e=>{k(e)}},hoverStatus:j},openSubmenu:()=>{x(!0),y("firstItem")},submenuRef:I,isSubmenuOpen:f}),f?n.jsx(r.DropdownMenu,{menuLevel:"sub",menuId:l,closeSubmenu:()=>{j.current.recentClose=!0,d({key:b,reason:"keyboard"}),setTimeout((()=>{j.current.recentClose=!1}),i),x(!1),p.current?.focus()},ref:I,anchorRef:p,defaultPlacement:"end-top",currentFocus:h,offsetValue:{mainAxis:-8,crossAxis:-8},flipOptions:{crossAxis:!0,mainAxis:!0,fallbackPlacements:["start-top","end-bottom","start-bottom"]},children:c}):null]})},i=100,m=({label:e,children:u})=>{const a=s.useId(),i=s.useId(),m=s.useId(),d=c.useRef(null),[b,p]=c.useState(!1),[I,f]=c.useState("menu"),{menuContainerRef:x,changeKey:h}=o.useMenuContainerContext();c.useEffect((()=>{b&&x.current&&(x.current.style.display="none")}),[b,x]);const y=c.useCallback((()=>{p(!0),f("secondItem")}),[]),k=c.useCallback((e=>{p(!0),"keyup"===e.type?f("secondItem"):f("menu")}),[]),j=c.useCallback((()=>{h({key:i,reason:"keyboard"}),d.current?.focus()}),[h,i,d]),A=()=>{p(!1),x.current&&(x.current.style.display="block")};return n.jsxs(n.Fragment,{children:[n.jsx(o.BaseMenuItem,{id:i,submenuId:a,ref:d,label:e,endIcon:n.jsx(t.DirectionalExpandArrowIcon,{}),type:"submenu",role:"menuitem",onAction:k,openSubmenu:y,isSubmenuOpen:b}),b?n.jsxs(r.SheetMenu,{menuId:a,closeSubmenu:()=>{A(),j()},menuLevel:"sub",anchorRef:d,currentFocus:I,children:[n.jsx(o.BaseMenuItem,{id:m,menuItemLabelWeight:"bold",role:"menuitem",type:"submenu",startIcon:n.jsx(l.DirectionalCollapseArrowIcon,{}),onAction:e=>{A(),"keyup"===e.type?j():(h({key:void 0,reason:"click"}),x.current?.focus())},label:e}),u]}):null]})};e.Submenu=({label:e,children:u})=>{const{isMobile:t}=o.useMenuContext();return n.jsx(n.Fragment,{children:t?n.jsx(m,{label:e,children:u}):n.jsx(a,{label:e,children:u})})}}));
//# sourceMappingURL=Submenu-2f8bd063.js.map
