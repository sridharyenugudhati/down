define(['exports', 'preact/jsx-runtime', 'preact/hooks', './utils/PRIVATE_collectionUtils', './utils/UNSAFE_mergeProps', './utils/UNSAFE_classNames', './hooks/PRIVATE_useCollectionFocusRing', './hooks/PRIVATE_useCurrentKey', './UNSAFE_Flex', './hooks/UNSAFE_useUser', './UNSAFE_TabBar/themes/TabBarStyles.css', './classNames-bd4a4c19', './Flex-cc4e4675', './hooks/UNSAFE_usePress', './UNSAFE_Text', 'preact', './utils/UNSAFE_mergeInterpolations', './utils/UNSAFE_interpolations/flexitem', './hooks/UNSAFE_useComponentTheme', './UNSAFE_TabBar/themes/redwood/TabBarItemTheme', './flexitem-70c06ae3', './Text-d9e2e519'], (function(e,t,s,r,n,o,c,a,l,i,u,d,m,h,x,g,b,f,y,F,A,E){"use strict";const N=g.createContext(null);e.TabBar=function({children:e,layout:o="stretch",selection:l,onSelectionChange:h}){const x=s.useRef(null),g=s.useRef(!1),[b,f]=s.useState(l),[y,F]=c.useCollectionFocusRing((e=>!!x.current?.contains(e)),["ArrowRight","ArrowLeft"]),A=".oj-c-tabbar-item",{currentKeyProps:E}=a.useCurrentKey((e=>r.keyExtractor(e,A)),!1,void 0,void 0,r.getPrevNextKey(x.current,b,!0,A),r.getPrevNextKey(x.current,b,!1,A),b,(e=>f(e.value))),{direction:p}=i.useUser(),C="rtl"===p,S={onKeyDown:s.useCallback((e=>{if(void 0===b&&("ArrowRight"===e.key||!C&&"ArrowLeft"===e.key)){const t=e.target.getAttribute("data-oj-key");if(t){const e=r.getPrevNextKey(x.current,t,!1,A)();null!==e&&f(e)}}}),[b])};s.useEffect((()=>{g.current=!1}));const R=s.useCallback((()=>!!x?.current?.contains(document.activeElement)),[]),v=d.classNames([u.styles.tabBarBase]);return t.jsx(N.Provider,{value:{selection:l,onSelectionChange:h,currentKey:b,showFocusRing:y,layout:o,isActiveElement:R,isFirstItemRendered:g},children:t.jsx("div",{class:v,role:"tablist",ref:x,tabIndex:e?-1:0,"aria-multiselectable":!1,...n.mergeProps(S,E,F),children:t.jsx(m.Flex,{direction:"row",gap:"8x",children:e})})})},e.TabBarItem=function({itemKey:e,label:r,startContent:n,endContent:o}){const c=s.useRef(null),{onSelectionChange:a,selection:l,currentKey:i,showFocusRing:u,layout:x,isActiveElement:g,isFirstItemRendered:f}=s.useContext(N),p=i===e;let C=p?0:-1;void 0===i&&f&&!f.current&&(C=0,f.current=!0);const{pressProps:S}=h.usePress((()=>{a?.({value:e})})),R=l===e;s.useLayoutEffect((()=>{g?.()&&p&&c?.current?.focus()}),[p,g]);const{classes:v,styles:{tabBarItemStartContent:T,tabBarItemEndContent:j}}=y.useComponentTheme(F.TabBarItemRedwoodTheme,{selection:R?"isSelected":"notSelected",current:p?"isCurrent":"notCurrent",focusRing:u?"showFocusRing":"noFocusRing"}),I=d.classNames([v,"oj-c-tabbar-item"]),U=d.classNames([T]),_=d.classNames([j]),k=b.mergeInterpolations([...Object.values(A.flexitemInterpolations)])({flex:"stretch"===x?"1 0 auto":"0 0 auto"});return t.jsx("div",{"data-oj-key":e,class:I,role:"tab",ref:c,...S,"aria-selected":R,tabIndex:C,style:k,children:t.jsxs(m.Flex,{height:"11x",minWidth:"14x",direction:"row",gap:"2x",align:"center",justify:"center",flex:"1 1 auto",children:[n&&t.jsx("span",{class:U,children:n}),r&&t.jsx(E.Text,{size:"md",weight:"semiBold",children:r}),o&&t.jsx("span",{class:_,children:o})]})})}}));
//# sourceMappingURL=TabBarItem-10f013d2.js.map
