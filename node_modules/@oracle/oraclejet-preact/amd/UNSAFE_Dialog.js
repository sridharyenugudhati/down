define(['exports', 'preact/jsx-runtime', 'preact/hooks', 'preact/compat', './hooks/UNSAFE_useAnimation', './hooks/UNSAFE_useComponentTheme', './UNSAFE_Layer', './UNSAFE_Modal', './UNSAFE_FocusTrap', './UNSAFE_WindowOverlay', './hooks/UNSAFE_useId', './UNSAFE_Dialog/themes/redwood/DialogTheme', './useAnimation-bc5efb9f', './FocusTrap-47f31a06', './Modal-4ef555ef', './utils/UNSAFE_logger', './_curry1-4d9a6584', './_curry2-99f10bc7', './index-abd879ef', 'preact', './Common', './Common/themes', './Common/themes/redwood/theme', './Common/themes/themeContract.css', './useThemeInterpolations-35281d48', './hooks/UNSAFE_useColorScheme', './hooks/UNSAFE_useScale', './utils/UNSAFE_interpolations/theme', './UNSAFE_Theme', './utils-b994552d', './utils/UNSAFE_mergeInterpolations', './utils/UNSAFE_classNames', './classNames-bd4a4c19', './_curry3-963d734c', './_has-77ad1af6', 'module', './utils/PRIVATE_tabbableUtils', './_arity-39916028', './vanilla-extract-dynamic.esm-1a9ba437', './UNSAFE_WindowOverlay/themes/WindowOverlayStyles.css', 'css!./WindowOverlayStyles.styles.css', './UNSAFE_WindowOverlay/themes/WindowOverlayContract.css', './hooks/UNSAFE_useUser', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayTheme', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayBaseTheme.css', 'module', './UNSAFE_WindowOverlay/themes/redwood/WindowOverlayVariants.css', './vanilla-extract-recipes-createRuntimeFn.esm-84f316bc', './UNSAFE_Dialog/themes/DialogStyles.css', 'css!./DialogStyles.styles.css', './UNSAFE_Dialog/themes/redwood/DialogBaseTheme.css', 'module', './UNSAFE_Dialog/themes/redwood/DialogVariants.css', './useModal-86e2eab9', './UNSAFE_Modal/themes/ModalStyles.css', 'css!./ModalStyles.styles.css'], (function(e,o,s,a,l,t,i,n,r,d,c,m,y,h,u,S,N,_,f,p,F,g,A,E,w,b,U,v,O,D,T,x,j,W,C,B,M,R,k,I,K,L,X,Y,V,P,H,q,z,G,J,Q,Z,$,ee,oe){"use strict";const se=({header:e,id:s})=>{const{styles:a}=t.useComponentTheme(m.DialogRedwoodTheme),l="string"==typeof e?o.jsx("h1",{id:s,className:a.dialogTitleStyle,children:e}):e;return o.jsx("div",{"aria-labelledby":s,className:a.dialogHeaderStyle,children:l})},ae=a.forwardRef((({children:e,header:s,footer:a,labelId:l,role:i,ariaLabelledBy:n,ariaDescribedBy:r,onKeyDown:d},c)=>{const{classes:y,styles:h}=t.useComponentTheme(m.DialogRedwoodTheme);return o.jsx("div",{ref:c,className:y,style:{opacity:0},onKeyDown:d,role:i,"aria-labelledby":n,"aria-describedby":r,children:o.jsxs("div",{className:h.dialogContainerStyle,children:[o.jsx(se,{id:l,header:s}),o.jsx("div",{className:h.dialogContentStyle,children:o.jsx("div",{className:h.dialogBodyStyle,children:e})}),o.jsx("div",{className:h.dialogFooterStyle,children:a})]})})})),le={opening:{from:{scaleX:0,scaleY:0,transformOrigin:"center",opacity:0},to:{scaleX:1,scaleY:1,opacity:1},options:{duration:200}},closing:{from:{scaleX:1,scaleY:1,transformOrigin:"center",opacity:1},to:{scaleX:0,scaleY:0,opacity:0},options:{duration:200}}};e.Dialog=({autoFocusRef:e,children:a,isOpen:l,header:t="",footer:n,modality:r="modal",placement:m="center",offset:S=0,onClose:N,onTransitionEnd:_,role:f="dialog","aria-labelledby":p,"aria-describedby":F})=>{const[g,A]=s.useState(l?"opening":"unmounted"),E=c.useId(),w=p||E;s.useEffect((()=>{("unmounted"!==g||l)&&A(l?"opening":"closing")}),[l,g]);const{nodeRef:b}=y.useAnimation(g,{animationStates:le,isAnimatedOnMount:!0,onAnimationEnd:({animationState:e})=>{"closing"===e?(A("unmounted"),_?.(!1)):_?.(!0)}}),U=e=>{if("Escape"===e.code)N?.({reason:"escapeKey"})},v=()=>o.jsx(d.WindowOverlay,{placement:m,offset:S,children:o.jsx(h.FocusTrap,{autoFocusRef:e,children:o.jsx(ae,{ref:b,labelId:w,header:t,footer:n,role:f,ariaLabelledBy:w,ariaDescribedBy:F,onKeyDown:U,children:a})})});return"modal"===r?o.jsx(u.Modal,{isOpen:"unmounted"!==g,children:v()}):"unmounted"!==g?o.jsx(i.Layer,{children:v()}):null},Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=UNSAFE_Dialog.js.map
